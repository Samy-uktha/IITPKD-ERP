<div *ngIf="!display" class="container-fluid mt-2">
	<div class="d-flex">
	  <!-- Sidebar with Tabs and Project List -->
	  <div class="card me-1 col-md-4">
		<div class="card-body">
		  <!-- Tabs -->
		  <ul class="nav nav-tabs">
			<li
			  class="nav-item"
			  *ngFor="let status of disp_stat; let i = index"
			  (click)="setActiveTab(disp_stat[i])"
			>
			  <a class="nav-link" [class.active]="activetab === i" role="button">
				{{ status }}
			  </a>
			</li>
		  </ul>
  
		  <!-- Project List for Selected Tab -->
		  <div class="tab-content mt-3">
			<div *ngIf="proj_stat[disp_stat[activetab]] ">
			  <ul class="list-group">
				<li
				  *ngFor="let request of proj_stat[disp_stat[activetab]]"
				  class="list-group-item list-group-item-action"
				  role="button"
				  (click)="selectProject(request)"
				>
				  {{ request.projectname }}
				</li>
			  </ul>
			</div>
			<div *ngIf="!proj_stat[disp_stat[activetab]] || proj_stat[disp_stat[activetab]].length === 0">
			  <p class="alert alert-warning">No projects available for this status.</p>
			</div>
		  </div>
		</div>
	  </div>
  
	  <!-- Main Content for Project Details or Tables -->
	  <div class="col-md-8">
		<!-- Conditionally Render Purchase Detail or Tables Component -->
		<div *ngIf="!displaytables">
		  <app-purchase-detail 
			[project]="selectedProject"
			(clickPreview)="displaypreview($event)"
			(senddocs)="addnewdocs($event)"
			(viewTables)="viewtables($event)"
		  ></app-purchase-detail>
		</div>
  
		<div *ngIf="displaytables">
		  <app-tables
			[projects]="projects"
			(selected)="selectfromtable($event)"
		  ></app-tables>
		</div>
	  </div>
	</div>
  </div>
  
  <!-- Preview Component -->
  <div *ngIf="display">
	<app-preview 
	  [project]="selectedProject"
	  (Approve)="projapprove($event)"
	  (Reject)="projreject($event)"
	  (SentBack)="projsentback($event)"
	  (forward)="projforw($event)"
	  (comments)="commentrec($event)"
	  (prev)="displaypreview($event)"
	></app-preview>
  </div>
  